<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Text to Speech Reader</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="container">
      <div class="header">
        <img src="images/icon48.png" alt="logo" width="24" height="24" />
        <h2>TTS Reader</h2>
      </div>

      <button id="readSelected" class="button primary-button">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          viewBox="0 0 16 16"
        >
          <path
            d="M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l.707-.707A9.473 9.473 0 0 1 15.026 8c0 2.456-1.02 4.907-2.784 6.707l-.707-.707z"
          />
          <path
            d="M9.828 12.586a6.476 6.476 0 0 0 1.768-4.586 6.476 6.476 0 0 0-1.768-4.586l.707-.707A7.476 7.476 0 0 1 12.026 8a7.476 7.476 0 0 1-1.49 4.886l-.707-.707z"
          />
          <path
            d="M7.414 2.586a2.5 2.5 0 0 1 0 3.536L3.621 9.922a.5.5 0 0 1-.707 0L.214 7.218a.5.5 0 0 1 0-.707l3.536-3.535a2.5 2.5 0 0 1 3.664 0zM2.5 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"
          />
        </svg>
        Read Selected
      </button>
      <button id="stopReading" class="button" disabled>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          viewBox="0 0 16 16"
        >
          <path
            d="M5 3.5h6A1.5 1.5 0 0 1 12.5 5v6a1.5 1.5 0 0 1-1.5 1.5H5A1.5 1.5 0 0 1 3.5 11V5A1.5 1.5 0 0 1 5 3.5z"
          />
        </svg>
        Stop Reading
      </button>

      <div class="settings">
        <div class="setting-group">
          <label for="ttsProvider">TTS Provider</label>
          <select id="ttsProvider">
            <option value="chrome">Chrome TTS (Standard)</option>
            <option value="gemini">Gemini TTS (Realistic)</option>
          </select>
        </div>

        <!-- Chrome TTS Specific Settings -->
        <div class="provider-settings" id="chromeSettings">
          <div class="setting-group">
            <label for="voiceSelect">Voice</label>
            <select id="voiceSelect"></select>
          </div>
        </div>

        <!-- Gemini TTS Specific Settings -->
        <div
          class="provider-settings"
          id="geminiSettings"
          style="display: none;"
        >
          <div class="setting-group">
            <label for="geminiApiKey">Gemini API Key</label>
            <input
              type="password"
              id="geminiApiKey"
              placeholder="Enter your Gemini API key"
            />
            <small
              >Get key from
              <a
                href="https://makersuite.google.com/app/apikey"
                target="_blank"
                rel="noopener noreferrer"
                >Google AI Studio</a
              ></small
            >
          </div>
          <div class="setting-group">
            <label for="geminiVoice">Voice</label>
            <select id="geminiVoice">
              <option value="Zephyr">Zephyr (Bright)</option>
              <option value="Puck">Puck (Upbeat)</option>
              <option value="Charon">Charon (Informative)</option>
              <option value="Kore">Kore (Firm)</option>
              <option value="Fenrir">Fenrir (Excitable)</option>
              <option value="Leda">Leda (Youthful)</option>
              <option value="Orus">Orus (Firm)</option>
            </select>
          </div>
        </div>

        <!-- Common Settings for Rate and Pitch (Only affect Chrome TTS) -->
        <div id="commonControls">
          <div class="setting-group">
            <label for="rateSlider">Speed: <span id="rateValue">1</span></label>
            <input
              type="range"
              id="rateSlider"
              min="0.5"
              max="2"
              step="0.1"
              value="1"
            />
          </div>
          <div class="setting-group">
            <label for="pitchSlider"
              >Pitch: <span id="pitchValue">1</span></label
            >
            <input
              type="range"
              id="pitchSlider"
              min="0.5"
              max="2"
              step="0.1"
              value="1"
            />
          </div>
        </div>
      </div>

      <div id="status" class="status"></div>
    </div>
    <script src="popup.js"></script>
  </body>
</html>
